<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>走在路上</title>
  
  <subtitle>再見</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://wongb.in/"/>
  <updated>2017-12-27T04:30:33.805Z</updated>
  <id>http://wongb.in/</id>
  
  <author>
    <name>Bynn</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>换环境更新博客方法</title>
    <link href="http://wongb.in/2017/12/27/%E6%8D%A2%E7%8E%AF%E5%A2%83%E6%9B%B4%E6%96%B0%E5%8D%9A%E5%AE%A2%E6%96%B9%E6%B3%95/"/>
    <id>http://wongb.in/2017/12/27/换环境更新博客方法/</id>
    <published>2017-12-27T03:47:56.000Z</published>
    <updated>2017-12-27T04:30:33.805Z</updated>
    
    <content type="html"><![CDATA[<div class="note success"><p>使用hexo，如果换了电脑怎么更新博客？ </p></div><a id="more"></a><hr><p>1、从官网Git下载git，在新电脑上安装，因为https速度慢，而且每次都要输入口令，常用的是使用ssh。使用下面方法创建：<br>（1）打开git bash，在用户主目录下运行：ssh-keygen -t rsa -C “youremail@example.com” 把其中的邮件地址换成自己的邮件地址，然后一路回车<br>（2）最后完成后，会在用户主目录下生成.ssh目录，里面有id_rsa和id_rsa.pub两个文件，这两个就是SSH key密钥对，id_rsa是私钥，千万不能泄露出去，id_rsa.pub是公钥，可以放心地告诉任何人。<br>（3）登陆GitHub，打开「Settings」-&gt;「SSH and GPG keys」，然后点击「new SSH key」，填上任意Title，在Key文本框里粘贴公钥id_rsa.pub文件的内容（千万不要粘贴成私钥了！），最后点击「Add SSH Key」，你就应该看到已经添加的Key。<br>注意：不要在git版本库中运行ssh，然后又将它提交，这样就把密码泄露出去了。</p><hr><p>2、下载Node.js，并安装</p><hr><p>3、打开git bash客户端，输入 npm install hexo-cli -g，开始安装hexo</p><hr><p>4、下面就将原来的文件拷贝到新电脑中，但是要注意哪些文件是必须的，哪些文件是可以删除的。</p><p>（1）讨论下哪些文件是必须拷贝的：首先是之前自己修改的文件，像站点配置_config.yml，theme文件夹里面的主题，以及source里面自己写的博客文件，这些肯定要拷贝的。除此之外，还有三个文件需要有，就是scaffolds文件夹（文章的模板）、package.json（说明使用哪些包）和.gitignore（限定在提交的时候哪些文件可以忽略）。其实，这三个文件不是我们修改的，所以即使丢失了，也没有关系，我们可以建立一个新的文件夹，然后在里面执行hexo init，就会生成这三个文件，我们只需要将它们拷贝过来使用即可。总结：_config.yml，theme/，source/，scaffolds/，package.json，.gitignore，是需要拷贝的。</p><p>（2）再讨论下哪些文件是不必拷贝的，或者说可以删除的：首先是.git文件，无论是在站点根目录下，还是主题目录下的.git文件，都可以删掉。然后是文件夹node_modules（在用npm install会重新生成），public（这个在用hexo g时会重新生成），.deploy_git文件夹（在使用hexo d时也会重新生成），db.json文件。其实上面这些文件也就是.gitignore文件里面记载的可以忽略的内容。总结：.git/，node_modules/，public/，.deploy_git/，db.json文件需要删除。</p><hr><p>5、在git bash中切换目录到新拷贝的文件夹里，使用 npm install 命令，进行模块安装。很明显我们这里没用hexo init初始化，因为有的文件我们已经拷贝生成过来了，所以不必用hexo init去整体初始化，如果不慎在此时用了hexo init，则站点的配置文件_config.yml里面内容会被清空使用默认值，所以这一步一定要慎重，不要用hexo init。</p><hr><p>6、安装其他的一些必要组件，如果在node_modules里面有的，就不要重复安装了：<br>（1）为了使用hexo d来部署到git上，需要安装<br>npm install hexo-deployer-git –save<br>（2）为了建立RSS订阅，需要安装<br>npm install hexo-generator-feed –save<br>（3）为了建立站点地图，需要安装<br>npm install hexo-generator-sitemap –save<br>插件安装后，有的需要对配置文件_config.yml进行配置，具体怎么配置，可以参考上面插件在github主页上的具体说明</p><hr><p>7、使用hexo g，然后使用hexo d进行部署，如果都没有出错，就转移成功了！</p><hr>]]></content>
    
    <summary type="html">
    
      &lt;div class=&quot;note success&quot;&gt;&lt;p&gt;使用hexo，如果换了电脑怎么更新博客？ &lt;/p&gt;&lt;/div&gt;
    
    </summary>
    
    
      <category term="hexo" scheme="http://wongb.in/tags/hexo/"/>
    
  </entry>
  
  <entry>
    <title>总结 hexo 基本命令</title>
    <link href="http://wongb.in/2017/12/27/%E6%80%BB%E7%BB%93-hexo-%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A4/"/>
    <id>http://wongb.in/2017/12/27/总结-hexo-基本命令/</id>
    <published>2017-12-27T03:36:43.000Z</published>
    <updated>2017-12-27T03:37:20.699Z</updated>
    
    <content type="html"><![CDATA[<div class="note info"><p>Hexo 基本操作及命令 </p></div><a id="more"></a><ul><li>总结   修改重要文件一定要先备份</li><li><p>Hexo   本地写文章一定先进入 安装文件夹</p><pre><code>&gt;hexo s  (端口被占用 hexo s -p 5000)&gt;hexo g  (编译)&gt;hexo d  (push github)&gt;hexo new&quot;postName&quot; #新建文章&gt;hexo new page&quot;pageName&quot; #新建页面&gt;hexo generate #生成静态页面至public目录&gt;hexo server #开启预览访问端口（默认端口4000，&apos;ctrl + c&apos;关闭server）&gt;hexo deploy #将.deploy目录部署到GitHub&gt;hexo help # 查看帮助&gt;hexo version #查看Hexo的版本</code></pre></li></ul><hr><p>一般用 <figure class="highlight plain"><figcaption><span>语言 这种语法表示代码区域，如:</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">```javascript</span><br><span class="line">            test</span><br></pre></td></tr></table></figure></p><hr><ul><li>报错总结</li></ul><hr><p>ERROR Deployer not found: git 或者 ERROR Deployer not found: github</p><p>解决方法： npm install hexo-deployer-git –save</p><hr><p>如发生报错： ERROR Process failed: layout/.DS_Store , 那么进入主题里面layout和_partial目录下，使用删除命令：</p><p>rm-rf.DS_Store</p><hr><p>ERROR Plugin load failed: hexo-server</p><p>原因：</p><p>Besides,utilities are separated into a standalone module.hexo.util is not reachable anymore.</p><p>解决方法，执行命令：</p><p>sudo npm install hexo-server</p><p>执行命令hexo server，提示：Usage: hexo ….</p><p>原因：</p><p>我认为是没有生成本地服务</p><p>解决方法，执行命令：</p><p>npm install hexo-server –save</p><hr><p>提示：hexo-server@0.1.2 node_modules/hexo-server</p><p>….</p><p>表示成功了参考</p><p>这个时候再执行：</p><p>hexo-server</p><p>得到:</p><p>INFOHexois running at <a href="http://0.0.0.0:4000/.PressCtrl+C" target="_blank" rel="noopener">http://0.0.0.0:4000/.PressCtrl+C</a> to stop.</p><p>这个时候再点击<a href="http://0.0.0.0:4000，正常情况下应该是最原始的画面，但是我看到的是：" target="_blank" rel="noopener">http://0.0.0.0:4000，正常情况下应该是最原始的画面，但是我看到的是：</a></p><p>白板和Cannot GET / 几个字</p><p>原因：</p><p>由于2.6以后就更新了，我们需要手动配置些东西，我们需要输入下面三行命令：</p><p>npm install hexo-renderer-ejs –save</p><p>npm install hexo-renderer-stylus –save</p><p>npm install hexo-renderer-marked –save</p><p>这个时候再重新生成静态文件，命令：</p><p>hexo generate（或hexo g）</p><p>启动本地服务器：</p><p>hexo server（或hexo s）</p><hr><ul><li><p>Makedown 原生方式</p><p>  | Name | Academy | score |<br>  | - | :-: | -: |<br>  | Harry Potter | Gryffindor| 90 |<br>  | Hermione Granger | Gryffindor | 100 |<br>  | Draco Malfoy | Slytherin | 90 |</p></li></ul><p>Name    Academy     score<br>Harry Potter    Gryffindor  90<br>Hermione Granger    Gryffindor  100<br>Draco Malfoy    Slytherin   90</p><p>语法说明： 1. 不管是哪种方式，第一行为表头，第二行分隔表头和主体部分，第三行开始每一行代表一个表格行；</p><ol><li>列与列之间用管道符号 “|” 隔开，原生方式的表格每一行的两边也要有管道符。</li><li>可在第二行指定不同列单元格内容的对齐方式，默认为左对齐，在 “-” 右边加上 “:” 为右对齐，在 “-” 两侧同时加上 “:” 为居中对齐。</li></ol><ul><li><p>更改nginx网站根目录<br>默认网站根目录为/usr/local/nginx/html，要将它改成/homw/www<br>vi /usr/local/nginx/conf/nginx.conf<br>将其中的</p><pre><code>location / {    root   html;    index  index.php index.html index.htm;}</code></pre><p>改为</p><pre><code>location / {    root   /home/www;    index  index.php index.html index.htm;}</code></pre><p>然后再将<br>location ~ .php$ {</p><pre><code>    root           html;    fastcgi_pass   127.0.0.1:9000;    fastcgi_index  index.php;    fastcgi_param  SCRIPT_FILENAME  $document_root$fastcgi_script_name;    include        fastcgi_params;}</code></pre><p>改为<br>location ~ .php$ {</p><pre><code>    root           /home/www;    fastcgi_pass   127.0.0.1:9000;    fastcgi_index  index.php;    fastcgi_param  SCRIPT_FILENAME  $document_root$fastcgi_script_name;    include        fastcgi_params;}</code></pre><p>然后重启nginx<br>已经安装了samba，所以要将vi /etc/samba/smb.conf中的[public]下的path值改为<br>path = /home/www/</p></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;div class=&quot;note info&quot;&gt;&lt;p&gt;Hexo 基本操作及命令 &lt;/p&gt;&lt;/div&gt;
    
    </summary>
    
    
      <category term="hexo" scheme="http://wongb.in/tags/hexo/"/>
    
  </entry>
  
  <entry>
    <title>cPanel主机中如何强制使用HTTPS</title>
    <link href="http://wongb.in/2017/12/27/cPanel%E4%B8%BB%E6%9C%BA%E4%B8%AD%E5%A6%82%E4%BD%95%E5%BC%BA%E5%88%B6%E4%BD%BF%E7%94%A8HTTPS/"/>
    <id>http://wongb.in/2017/12/27/cPanel主机中如何强制使用HTTPS/</id>
    <published>2017-12-27T03:23:26.000Z</published>
    <updated>2017-12-27T04:48:14.504Z</updated>
    
    <content type="html"><![CDATA[<div class="note default"><p>Hexo 基本操作及命令 </p></div><a id="more"></a><p>在网站站目录下找到 .htaccess,如果没有就新建一个,添加如下代码</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">         &lt;IfModule mod_rewrite.c&gt;</span><br><span class="line">RewriteEngine On</span><br><span class="line">RewriteCond %&#123;http_host&#125; ^www.aug12th.com$ [NC]</span><br><span class="line">RewriteRule ^(.*)$ https:<span class="comment">//aug12th.com/$1 [R=301,L]</span></span><br><span class="line"></span><br><span class="line">RewriteCond %&#123;SERVER_PORT&#125; !^<span class="number">443</span>$</span><br><span class="line">RewriteRule ^(.*)?$ https:<span class="comment">//%&#123;SERVER_NAME&#125;/$1 [L,R]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">RewriteEngine On</span><br><span class="line">RewriteBase /</span><br><span class="line">RewriteCond %&#123;REQUEST_FILENAME&#125; !-f</span><br><span class="line">RewriteCond %&#123;REQUEST_FILENAME&#125; !-d</span><br><span class="line">RewriteRule ^(.*)$ /index.html/$<span class="number">1</span> [L]</span><br><span class="line">&lt;<span class="regexp">/IfModule&gt;</span></span><br></pre></td></tr></table></figure><p>第一块：将所有连接全部跳转到 https 开头的、不带 www 的网址上<br>第二块：伪静态，解决 typecho 烦人的会自带index.html在网址上的问题</p>]]></content>
    
    <summary type="html">
    
      &lt;div class=&quot;note default&quot;&gt;&lt;p&gt;Hexo 基本操作及命令 &lt;/p&gt;&lt;/div&gt;
    
    </summary>
    
    
      <category term="hexo" scheme="http://wongb.in/tags/hexo/"/>
    
  </entry>
  
  <entry>
    <title>Hexo标签页生成</title>
    <link href="http://wongb.in/2017/12/26/Test/"/>
    <id>http://wongb.in/2017/12/26/Test/</id>
    <published>2017-12-26T14:26:46.000Z</published>
    <updated>2017-12-27T04:48:32.360Z</updated>
    
    <content type="html"><![CDATA[<!-- HTML方式: 直接在 Markdown 文件中编写 HTML 来调用 --><!-- 其中 class="blockquote-center" 是必须的 --><!--blockquote class="blockquote-center">Hexo标签页生成的详细教程，附官方说明文档</blockquote--><div class="note success"><p>Hexo标签页生成的详细教程，附官方说明文档 </p></div><a id="more"></a><p>代码：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">tags: </span><br><span class="line">     - 前端</span><br><span class="line">     - hexo</span><br><span class="line">     categories: </span><br><span class="line">     - 前端</span><br></pre></td></tr></table></figure></p><p>在博客根目录输入</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo <span class="keyword">new</span> page tags</span><br></pre></td></tr></table></figure><p>打开 tags/index.md ，并改成：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">title: 标签</span><br><span class="line">date: 日期</span><br><span class="line">type: <span class="string">"tags"</span></span><br><span class="line">comments: <span class="literal">false</span></span><br></pre></td></tr></table></figure><p>分类同理</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo <span class="keyword">new</span> page categories</span><br></pre></td></tr></table></figure><p>打开category/index.md，改为：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">title: 分类</span><br><span class="line">date: 日期</span><br><span class="line">type: <span class="string">"categories"</span></span><br><span class="line">comments: <span class="literal">false</span></span><br></pre></td></tr></table></figure><p>附上文档<a href="https://hexo.io/zh-cn/docs/front-matter.html" target="_blank" rel="noopener">Front-matter</a></p>]]></content>
    
    <summary type="html">
    
      &lt;!-- HTML方式: 直接在 Markdown 文件中编写 HTML 来调用 --&gt;
&lt;!-- 其中 class=&quot;blockquote-center&quot; 是必须的 --&gt;
&lt;!--blockquote class=&quot;blockquote-center&quot;&gt;Hexo标签页生成的详细教程，附官方说明文档&lt;/blockquote--&gt;
&lt;div class=&quot;note success&quot;&gt;&lt;p&gt;Hexo标签页生成的详细教程，附官方说明文档 &lt;/p&gt;&lt;/div&gt;
    
    </summary>
    
    
      <category term="hexo" scheme="http://wongb.in/tags/hexo/"/>
    
  </entry>
  
  <entry>
    <title>HTTP+SSL</title>
    <link href="http://wongb.in/2017/12/22/http%E8%BD%AChttps/"/>
    <id>http://wongb.in/2017/12/22/http转https/</id>
    <published>2017-12-22T14:50:21.000Z</published>
    <updated>2017-12-27T03:26:52.311Z</updated>
    
    <content type="html"><![CDATA[<div class="note danger"><p>云ESC部署SSL详细方法 </p></div><a id="more"></a><ul><li><p>系统CentOS 7.3 64位  + 环境 Nginx   采用LNMP一键包</p></li><li><p>免费SSL  腾讯 阿里都提供 以腾讯云为例 TrustAsia TLS RSA CA </p></li><li><p>直接申请验证域名信息即可 获取不同环境的crt key</p></li></ul><h3 id="第一步、部署HTTPS基础准备"><a href="#第一步、部署HTTPS基础准备" class="headerlink" title="第一步、部署HTTPS基础准备"></a>第一步、部署HTTPS基础准备</h3><pre><code>　申请SSL 了解直接服务器部署环境 选择对应的</code></pre><h3 id="第二步-上传和部署SSL证书"><a href="#第二步-上传和部署SSL证书" class="headerlink" title="第二步 上传和部署SSL证书"></a>第二步 上传和部署SSL证书</h3><blockquote><p>A - 把上面的一个CRT一个KEY文件上传到VPS<br>    　ROOT目录中，然后对应修改成SSL.CRT和SSL.KEY文件名，或者我们用作其他命令都可以。</p><p>B - 解密私钥和设置权限</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">openssl rsa -<span class="keyword">in</span> ssl.key -out /root/ssl.key</span><br><span class="line">chmod <span class="number">600</span> /root/ssl.key</span><br></pre></td></tr></table></figure><blockquote><p>登录SSH，执行上述两行脚本，解密私钥和授权。</p></blockquote><hr><h3 id="第三步-在LNMP环境部署站点SSL设置"><a href="#第三步-在LNMP环境部署站点SSL设置" class="headerlink" title="第三步 在LNMP环境部署站点SSL设置"></a>第三步 在LNMP环境部署站点SSL设置</h3><blockquote><p>我们需要在已有的LNMP添加了站点，然后在站点对应的CONF文件设置。</p><p>在”/usr/local/nginx/conf/vhost/“目录文件中，找到对应站点的conf文件，然后修改设置如下</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">server</span><br><span class="line">&#123;</span><br><span class="line">       listen <span class="number">80</span>;</span><br><span class="line">       listen 443 ssl;                            #1</span><br><span class="line">       #listen [::]:80;                           </span><br><span class="line">       ssl on;                                    #2</span><br><span class="line">       ssl_certificate /root/ssl.crt;             #3</span><br><span class="line">       ssl_certificate_key /root/ssl.key;         #4</span><br><span class="line">       server_name <span class="number">1114.</span>me www<span class="number">.1114</span>.me;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure><blockquote><font color="#FF0000"> 上面的#1 2 3 4标注部分是需要我们添加的，对应路径我们要与之前上传的CRT和KEY文件路径对应以及文件名不要搞错。 </font> </blockquote><hr><p>补充官方说明：</p><blockquote><p>Nginx 证书部署<br>获取证书<br>Nginx文件夹内获得SSL证书文件 1_www.domain.com_bundle.crt 和私钥文件 2_www.domain.com.key,<br>1_www.domain.com_bundle.crt 文件包括两段证书代码 “—–BEGIN CERTIFICATE—–”和“—–END CERTIFICATE—–”,<br>2_www.domain.com.key 文件包括一段私钥代码“—–BEGIN RSA PRIVATE KEY—–”和“—–END RSA PRIVATE KEY—–”。</p><p>证书安装</p></blockquote><font color="#FF3300">将域名www.domain.com的证书文件1_www.domain.com_bundle.crt 、私钥文件2_www.domain.com.key保存到同一个目录，例如/usr/local/nginx/conf目录下。<br>更新Nginx根目录下 conf/nginx.conf 文件如下： </font> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">        listen <span class="number">443</span>;</span><br><span class="line">        server_name www.domain.com; #填写绑定证书的域名</span><br><span class="line">        ssl on;</span><br><span class="line">        ssl_certificate <span class="number">1</span>_www.domain.com_bundle.crt;</span><br><span class="line">        ssl_certificate_key <span class="number">2</span>_www.domain.com.key;</span><br><span class="line">        ssl_session_timeout <span class="number">5</span>m;</span><br><span class="line">        ssl_protocols TLSv1 TLSv1.1 TLSv1.2; #按照这个协议配置</span><br><span class="line">        ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:HIGH:!aNULL:!MD5:!RC4:!DHE;#按照这个套件配置</span><br><span class="line">        ssl_prefer_server_ciphers on;</span><br><span class="line">        location / &#123;</span><br><span class="line">            root   html; #站点目录</span><br><span class="line">            index  index.html index.htm;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><hr><p>配置完成后，先用bin/nginx -t来测试下配置是否有误，正确无误的话，重启nginx。就可以使 <a href="https://www.1114.me" target="_blank" rel="noopener">https://www.1114.me</a> 来访问了。</p><hr><ul><li>注：</li></ul><table><thead><tr><th style="text-align:center">配置文件参数</th><th style="text-align:center">标准</th><th style="text-align:center">说明</th></tr></thead><tbody><tr><td style="text-align:center">listen 443</td><td style="text-align:center"></td><td style="text-align:center">SSL访问端口号为443</td></tr><tr><td style="text-align:center">ssl on</td><td style="text-align:center"></td><td style="text-align:center">启用SSL功能</td></tr><tr><td style="text-align:center">ssl_certificate</td><td style="text-align:center"></td><td style="text-align:center">证书文件</td></tr><tr><td style="text-align:center">ssl_certificate_key</td><td style="text-align:center"></td><td style="text-align:center">私钥文件</td></tr><tr><td style="text-align:center">ssl_protocols</td><td style="text-align:center"></td><td style="text-align:center">使用的协议</td></tr><tr><td style="text-align:center">ssl_ciphers</td><td style="text-align:center"></td><td style="text-align:center">配置加密套件，写法遵循openssl标准</td></tr></tbody></table><blockquote><p>最后，我们重启LNMP，可以看到SSL证书生效，且HTTPS可以访问站点。<br>重启LNMP命令</p></blockquote><ul><li><p>使用全站加密，http自动跳转https（可选）<br>对于用户不知道网站可以进行https访问的情况下，让服务器自动把http的请求重定向到https。<br>在服务器这边的话配置的话，可以在页面里加js脚本，也可以在后端程序里写重定向，当然也可以在web服务器来实现跳转。Nginx是支持rewrite的（只要在编译的时候没有去掉pcre）<br>在http的server里增加rewrite ^(.*) <a href="https://$host$1" target="_blank" rel="noopener">https://$host$1</a> permanent;<br>这样就可以实现80进来的请求，重定向为https了。</p></li><li><p>像这样就可以了</p></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">server &#123;</span><br><span class="line">    listen <span class="number">443</span>;</span><br><span class="line">    server_name <span class="number">1114.</span>me www<span class="number">.1114</span>.me;</span><br><span class="line">    ssl on;</span><br><span class="line">    root html;</span><br><span class="line">    index index.html index.htm;</span><br><span class="line">        ssl_certificate /root/ssl.pem;</span><br><span class="line">        ssl_certificate_key /root/ssl.key;</span><br><span class="line">        ssl_session_timeout <span class="number">5</span>m;</span><br><span class="line">        ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:ECDHE:ECDH:AES:HIGH:!NULL:!aNULL:!MD5:!ADH:!RC4;</span><br><span class="line">        ssl_protocols TLSv1 TLSv1<span class="number">.1</span> TLSv1<span class="number">.2</span>;</span><br><span class="line">        ssl_prefer_server_ciphers on;</span><br><span class="line">    location / &#123;</span><br><span class="line">        root html;(<span class="regexp">/EG/</span>EG/站点目录)</span><br><span class="line">        index index.html index.htm;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>如果想要强制 HTTPS，请做如下修改：</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">-------------------------------------------------------------------------------</span><br><span class="line">server</span><br><span class="line">&#123;</span><br><span class="line">    listen <span class="number">80</span>;</span><br><span class="line">    server_name 1114.me www.1114.me;                 # 修改为你的域名</span><br><span class="line">    rewrite ^/(.*) https://www.1114.me/$1 permanent; # 如果你的网站是带 www 的，请在域名前添加 www</span><br><span class="line">&#125;</span><br><span class="line">-------------------------------------------------------------------------------server                  #接上段配置即可</span><br><span class="line">&#123;</span><br><span class="line">    listen <span class="number">443</span>;</span><br><span class="line">    # ...... 其余配置同上</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><blockquote><p>LNMP状态管理命令：</p></blockquote><p>   LNMP状态管理： /root/lnmp {start|stop|reload|restart|kill|status}</p><p>   Nginx状态管理：/etc/init.d/nginx {start|stop|reload|restart}</p><p>   MySQL状态管理：/etc/init.d/mysql {start|stop|restart|reload|force-reload|status}</p><p>   Memcached状态管理：/etc/init.d/memcached {start|stop|restart}</p><p>   PHP-FPM状态管理：/etc/init.d/php-fpm {start|stop|quit|restart|reload|logrotate}</p><p>   PureFTPd状态管理： /etc/init.d/pureftpd {start|stop|restart|kill|status}</p><p>   ProFTPd状态管理： /etc/init.d/proftpd {start|stop|restart|reload}</p><ul><li>如重启LNMP，输入命令：/root/lnmp restart 即可，单独重启mysql：/etc/init.d/mysql restart</li></ul><hr>]]></content>
    
    <summary type="html">
    
      &lt;div class=&quot;note danger&quot;&gt;&lt;p&gt;云ESC部署SSL详细方法 &lt;/p&gt;&lt;/div&gt;
    
    </summary>
    
    
      <category term="SSL" scheme="http://wongb.in/tags/SSL/"/>
    
  </entry>
  
  <entry>
    <title>Diary</title>
    <link href="http://wongb.in/2017/12/17/test-new-blog/"/>
    <id>http://wongb.in/2017/12/17/test-new-blog/</id>
    <published>2017-12-17T14:54:13.000Z</published>
    <updated>2017-12-27T02:57:59.069Z</updated>
    
    <content type="html"><![CDATA[<div class="note primary"><p>纯粹的写作产品 </p></div><a id="more"></a><p> 　　浏览网页偶然看到一个博客主题很简约，去掉多余的功能，大量留白，剩下的空间书写，<br>  就像在写纸质日记一样，这感觉很 <code>奇特</code>！ 比用简书 Wordpress之流显得高了不止一筹。</p><h2 id="喜欢这种纯粹的产品"><a href="#喜欢这种纯粹的产品" class="headerlink" title="喜欢这种纯粹的产品"></a>喜欢这种纯粹的产品</h2><h3 id="所以有一个搭建的想法"><a href="#所以有一个搭建的想法" class="headerlink" title="所以有一个搭建的想法"></a>所以有一个搭建的想法</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">说做就做 查阅了一下资料，是利用Hexo 把写的代码渲染成 静态网页</span><br></pre></td></tr></table></figure><p>  所有的东西都由创作者自由编辑，和自己在服务器搭建个人博客没什么<code>两样</code></p><h3 id="完全自主"><a href="#完全自主" class="headerlink" title="完全自主"></a>完全自主</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">享受写作的快乐</span><br></pre></td></tr></table></figure><pre><code>但是需要一定代码基础包括前端技术，作为一个只会增删补改的射击师，还是有点挑战，</code></pre><p>   总能放弃吧，碰到了很多问题，Google到了答案，经过两天的摸索，终于大概怎么去部署<br>   Hexo+GitHub安装插件了，由于对Linux不是特别熟悉，在服务器搭建走了不少弯路，建议，先在本地搭建，对服务器不熟的建议选择Ubuntu，环境比Centos好很多免得很多东西没安装会报错，别问我为什么喜欢Centos，喜欢纯粹的系统QAQ</p><h3 id="Git版本控制-Github远程仓库"><a href="#Git版本控制-Github远程仓库" class="headerlink" title="Git版本控制 Github远程仓库"></a>Git版本控制 Github远程仓库</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">先了解基础的概念再上手 会比较容易</span><br></pre></td></tr></table></figure><p>  回过头，想想，其实也不难，环境不同，工具不同，遇到问题，这很正常，<br>通常Google下都会有相关解答，看下，问题产生在哪里，怎么解决问题，解决的思路，以及为什么要这么做，而不是死记硬背硬套，一时解决问题！</p><h3 id="Stay-Hungry-Stay-Foolish"><a href="#Stay-Hungry-Stay-Foolish" class="headerlink" title="Stay Hungry Stay Foolish"></a>Stay Hungry Stay Foolish</h3><p>  最后给用腾讯云Centos7.X的童鞋<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$  npm install -g hexo-cli</span><br><span class="line">  先yum -y install openssl</span><br></pre></td></tr></table></figure></p><p>  这个困扰我半个小时QAQ 其他命令官网都有说明<br>  英文不太好的童鞋 eg me 可以用Chrome 右键翻译为汉语</p>]]></content>
    
    <summary type="html">
    
      &lt;div class=&quot;note primary&quot;&gt;&lt;p&gt;纯粹的写作产品 &lt;/p&gt;&lt;/div&gt;
    
    </summary>
    
    
      <category term="日记" scheme="http://wongb.in/tags/%E6%97%A5%E8%AE%B0/"/>
    
  </entry>
  
  <entry>
    <title>Image</title>
    <link href="http://wongb.in/2017/12/17/hello-world/"/>
    <id>http://wongb.in/2017/12/17/hello-world/</id>
    <published>2017-12-17T06:33:32.000Z</published>
    <updated>2017-12-27T04:28:13.314Z</updated>
    
    <content type="html"><![CDATA[<div class="note info"><p>测试图片 </p></div><a id="more"></a><!-- 别名 --><span itemprop="image" itemscope="" itemtype="http://schema.org/ImageObject"><img itemprop="url image" src="https://timgsa.baidu.com/timg?image&amp;quality=80&amp;size=b9999_10000&amp;sec=1514126503&amp;di=a48919843fa72f4e6a50585ab3484b6e&amp;imgtype=jpg&amp;er=1&amp;src=http%3A%2F%2Fimage5.tuku.cn%2Fpic%2Fwallpaper%2Ffengjing%2Fchaodachicunziranjingguanbizhi%2F004.jpg" class="full-image" alt="alt" title="七牛图床 实名认证也就算了 还要手持身份证 WTF 有一种裸贷的感觉"><meta itemprop="width" content="auto"><meta itemprop="height" content="auto"></span>]]></content>
    
    <summary type="html">
    
      &lt;div class=&quot;note info&quot;&gt;&lt;p&gt;测试图片 &lt;/p&gt;&lt;/div&gt;
    
    </summary>
    
    
      <category term="Test" scheme="http://wongb.in/tags/Test/"/>
    
  </entry>
  
</feed>
